app = "apconsentbot"
primary_region = "sin"

[build]
  # 用 Fly 的 Python buildpack（不需要 Dockerfile）
  builder = "paketobuildpacks/builder:base"

[env]
  # 让 SQLite 落在持久化磁盘
  CONSENT_DB_PATH = "/data/consent.db"

# 你的 bot 进程（轮询模式，不需要对外开端口）
[processes]
  app = "python bot.py"

# 挂载 volume：/data
[mounts]
  source = "consent_data"
  destination = "/data"

# 可选：让机器别轻易被停
[deploy]
  strategy = "immediate"
